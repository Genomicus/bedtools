#summary BEDTools release history.


==Version 2.8.2 (July-18-2010)==
  # Fixed a bug in bedFile.h preventing GFF strands from being read properly.
  # Fixed a bug in intersectBed that occasionally caused spurious overlaps between BAM alignments and BED features.
  # Fixed bug in intersectBed causing -r to not report the same result when files are swapped.
  # Added checks to groupBy to prevent the selection of improper opCols and groups.
  # Fixed various compilation issues, esp. for groupBy, bedToBam, and bedToIgv.
  # Updated the usage statements to reflect bed/gff/vcf support.
  # Added new fileType functions for auto-detecting gzipped or regular files.  Thanks to Assaf Gordon.



==Version 2.8.1 (July-06-2010)==
  # Added bedToIgv.



==Version 2.8.0 (July-05-2010)==

  # Proper support for "split" BAM alignments and "blocked" BED (aka BED12) features. By using the "-split" option, intersectBed, coverageBed, genomeCoverageBed, and bamToBed will now correctly compute overlaps/coverage solely for the "split" portions of BAM alignments or the "blocks" of BED12 features such as genes. 
  # Added native support for the 1000 Genome Variant Calling Format (VCF) version 4.0.
  # New bed12ToBed6 tool.  This tool will convert each block of a BED12 feature into discrete BED6 features.
  # Useful new groupBy tool.  This is a very useful new tool that mimics the "groupBy" clause in SQL.  Given a file or stream that is sorted by the appropriate "grouping columns", groupBy will compute summary statistics on another column in the file or stream.  This will work with output from all BEDTools as well as any other tab-delimited file or stream.  Example summary operations include: sum, mean, stdev, min, max, etc.  Please see the help for the tools for examples.  The functionality in groupBy was motivated by helpful discussions with Erik Arner at Riken.
  # Improvements to genomeCoverageBed.  Applied several code improvements provided by Gordon Assaf at CSHL.  Most notably, beyond the several efficiency and organizational changes he made, he include a "-strand" option which allows one to specify that coverage should only be computed on either the "+" or the "-" strand.
  # Fixed a bug in closestBed found by Erik Arner (Riken) which incorrectly reported "null" overlaps for features that did not have a closest feature in the B file.
  # Fixed a careless bug in slopBed also found by Erik Arner (Riken) that caused an infinite loop when the "-excl" option was used.
  # Reduced memory consumption by ca. 15% and run time by ca. 10% for most tools.
  # Several code-cleanliness updates such as templated functions and common tyedefs.
  # Tweaked the genome binning approach such that 16kb bins are the most granular.


==Version 2.7.1 (May-06-2010)==

  # Fixed a typo that caused some compilers to fail on closestBed.


==Version 2.7.0 (May-05-2010)==

*General:*
  # "Gzipped" BED and GFF files are now supported as input by all BEDTools.  Such files must end in ".gz".
  # Tools that process BAM alignments now uniformly compute an ungapped alignment end position based on the BAM CIGAR string.  Specifically, "M", "D" and "N" operations are observed when computing the end position.
  # bamToBed requires the BAM file to be sorted/grouped by read id when creating BEDPE output.  This allows the alignments end coordinate  for each end of the pair to be properly computed based on its CIGAR string.  The same requirement applies to pairToBed.
  # Updated manual.
  # Many silent modifications to the code that improve clarity and sanity-checking and facilitate future additions/modifications.

*New Tools:*
  # bedToBam. This utility will convert BED files to BAM format.  Both "blocked" (aka BED12) and "unblocked" (e.g. BED6) formats are acceptable.  This allows one to, for example, compress large BED files such as dbSNP into BAM format for efficient visualization.

*Changes to existing tools:*
  # intersectBed. Added -wao option to report 0 overlap for features in A that do not intersect any features in B.  This is an extension of the -wo option. 
  # bamToBed. Requires that BAM input be sorted/grouped by read name.
  # pairToBed. Requires that BAM input be sorted/grouped by read name. Allows use of minimum mapping quality or total edit distance for score field.
  # windowBed. Now supports BAM input.
  # genomeCoverageBed. 1. -bga option. Thanks to Gordon Assaf for the suggestion. 2. Eliminated potential seg fault.


==Version 2.6.1 (Mar-29-2010)==
  # Fixed a careless command line parsing bug in coverageBed.


==Version 2.6.0 (Mar-23-2010)==
*Specific improvements / additions to tools*
  # intersectBed
    * Added an option (-wo) that reports the number of overlapping bases for each intersection b/w A and B files.
  # coverageBed
    * native BAM support
    * can now report a histogram (-hist) of coverage for each feature in B.  Useful for exome sequencing projects, for example.
    * faster
  # genomeCoverageBed
    * native BAM support
    * can now report coverage in BEDGRAPH format (-bg)
  # bamToBed
    * support for "blocked" BED (aka BED12) format.  This facilitates the creation of BED entries for "split" alignments (e.g. RNAseq or SV)
  # fastaFromBed
    * added the ability to extract sequences from a FASTA file according to the strand in the BED file.  That is, when "-" the extracted sequence is reverse complemented.
  # overlap
    * newly added tool for computing the overlap/distance between features on the same line. For example:
{{{
$ cat test.out
chr1	10	20	A	chr1	15	25	B
chr1	10	20	C	chr1	25	35	D

$ cat test.out | overlaps -i stdin -cols 2,3,6,7
chr1	10	20	A	chr1	15	25	B	5
chr1	10	20	C	chr1	25	35	D	-5
}}}

*Bug fixes*
  # Fixed a bug in pairToBed when comparing paired-end BAM alignments to BED annotations and using the "notboth" option.
  # Fixed an idiotic bug in intersectBed that occasionally caused segfaults when blank lines existed in BED files.
  # Fixed a minor bug in mergeBed when using the -nms option.


==Version 2.5.4 (Mar-3-2010)==
  # Fixed an insidious bug that caused malform BAM output from intersectBed and pairToBed.  The previous BAM files worked fine with samtools as BAM input, but when piped in as SAM, there was an extra tab that thwarted conversion from SAM back to BAM.  Many thanks to Ivan Gregoretti for reporting this bug.  I had never used the BAM output in this way and thus never caught the bug!


==Version 2.5.3 (Feb-19-2010)==
  # Fixed bug to "re-allow" track and "browser" lines.
  # Fixed bug in reporting BEDPE overlaps.
  # Fixed bug when using type "notboth" with BAM files in pairToBed.
  # When comparing BAM files to BED/GFF annotations with intersectBed or pairToBed, the _aligned_ sequence is used, rather than the _original_ sequence.
  # Greatly increased the speed of pairToBed when using BAM alignments.
  # Fixed a bug in bamToBed when reporting edit distance from certain aligners.

*Version 2.5.2 (Feb-2-2010)*
  * The start and end coordinates for BED and BEDPE entries created by bamToBed are now based on the __aligned__ sequence, rather than the original sequence. It's obvious, but I missed it originally...sorry. 
  * Fixed a bug in bamToBed that caused a crash when created BED / BEDPE from "spliced" BAM alignments. 
  * Added an error message to mergeBed preventing one from using "-n" and "-nms" together. 
  * Fixed a bug in pairToBed that caused neither -type "notispan" nor "notospan" to behave as described.

*Version 2.5.1 (Jan-28-2010)*
  * Fixed a bug in the new GFF/BED "determinator" that caused a segfault when start = 0.

*Version 2.5.0 (Jan-27-2010)*
  * Added support for custom BED fields after the 6th column.
  * Fixed a command line parsing bug in pairToBed.  
  * Improved sanity checking.

*Version 2.4.2 (Jan-23-2010)*
  * Fixed a minor bug in mergeBed when -nms and -s were used together.
  * Improved the command line parsing to prevent the occasional segfault.

*Version 2.4.1 (Jan-12-2010)*
  * Updated BamTools libraries to remove some compilation issues on some systems/compilers.

*Version 2.4.0 (Jan-11-2010)*
  * Added BAM support to intersectBed and pairToBed
  * New bamToBed feature.
  * Added support for GFF features
  * Added support for "blocked" BED format (BED12)
  * Wrote complete manual and included it in distribution.
  * Fixed several minor bugs.
  * Cleaned up code and improved documentation.

*Version 2.3.3 (12/17/2009)*

  * Rewrote complementBed to use a slower but much simpler approach.  This resolves several bugs with the previous logic.

*Version 2.3.2 (11/25/2009)*

  * Fixed a bug in subtractBed that prevented a file from subtracting itself when the following is used:
{{{
$ subtractBed -a test.bed -b test.bed
}}}

*Version 2.3.1 (11/19/2009)*

  * Fixed a typo in closestBed that caused all nearby features to be returned instead of just the closest one.

*Version 2.3.0 (11/18/2009)*
  * Added four new tools:
    * *shuffleBed*. Randomly permutes the locations of a BED file among a genome.  Useful for testing for significant overlap enrichments.
    * *slopBed*. Adds a requested number of base pairs to each end of a BED feature.  Constrained by the size of each chromosome.
    * *maskFastaFromBed*. Masks a FASTA file based on BED coordinates.  Useful making custom genome files from targeted capture experiment, etc.
    * *pairToPair*. Returns overlaps between two paired-end BED files.  This is great for finding structural variants that are private or shared among samples.
                                                        
  * Increased the speed of *intersectBed* by nearly 50%.
  * Improved corrected some of the help messages.
  * Improved sanity checking for BED entries.
  * *peIntersectBed* is now known as *pairToBed*.
  * added samToBed and gffToBed scripts.

*Version 2.2.4 (10/27/2009)*
  * Updated the mergeBed documentation to describe the -names option which allows one to report the names of the features that were merged (separated by semicolons).


*Version 2.2.3 (10/23/2009)*
  * Changed windowBed to optionally define "left" and "right" windows based on strand.    For example by default, -l 100 and -r 500 will add 100 bases to the left (lower coordinates) of a feature in A when scanning for hits in B and 500 bases to the right (higher coordinates).

  * However if one chooses the -sw option (windows bases on strandedness), the behavior changes.  Assume the above example except that a feature in A is on the negative strand ("-").  In this case, -l 100, -r 500 and -sw will add 100 bases to the right (higher coordinates) and 500 bases to the left (lower coordinates).

  * In addition, there is a separate option (-sm) that can optionally force hits in B to  only be tracked if they are on the same strand as A.  

  * *NOTE: This replaces the previous -s option and may affect existing pipelines.*


*Version 2.2.2 (10/20/2009)*
  * Improved the speed of genomeCoverageBed by roughly 100 fold.  The memory usage is now less than 2.0 Gb.


*Version 2.2.1*
  * Fixed a very obvious bug in subtractBed that caused improper behavior when a feature in A was overlapped by more than one feature in B. Many thanks to folks in the Hannon lab at CSHL for pointing this out.


*Version 2.2.0*
  * coverageBed will optionally only count features in BED file A (e.g. sequencing reads) that overlap with the intervals/windows in BED file B on the same strand.  This has been requested several times recently and facilitates CHiP-Seq and RNA-Seq experiments.

  * intersectBed can now require a minimum __reciprocal__ overlap between intervals in BED A and BED B.  For example, previously, if one used -f 0.90, it required that a feature in B overlap 90% of the feature in A for the "hit" to be reported. If one adds the -r (reciprocal) option, the hit must also cover 90% of the feature in B. This helps to exclude overlaps between say small features in A and large features in B.

  * The score field has been changed to be a string.  While this deviates from the UCSC definition, it allows one to track much more meaningful information about a feature/interval.  For example, score could now be:
{{{     
        7.31E-05  (a p-value)
        0.334577  (mean enrichment)
        2:2.2:40:2 (several values encoded in a string)
}}}
        
  * closestBed now, by default, reports __all__ intervals in B that overlap equally with an interval in A.  Previously, it merely reported the first such feature that appeared in B.  

  * Several other minor changes to the algorithms have been made to increase speed a bit.


*Version 2.1.2*
  * Fixed yet another bug in the parsing of "track" or "browser" lines.  Sigh...
  * Change the "score" column (i.e. column 5) to b stored as a string.  While this deviates from the UCSC convention, it allows significantly more information to be packed into the column.


*Version 2.1.1*
  * Added limits.h to bedFile.h to fix compilation issues on some systems.
  * Fixed bug in testing for "track" or "browser" lines.


*Version 2.1.0*
  * Fixed a bug in peIntersectBed that prevented -a from being correctly handled when passed via stdin.
  * Added new functionality to coverageBed that calculates the density of coverage.
  * Fixed bug in geneomCoverageBed.


*Version 2.0.1*
  * Added the ability to retain UCSC browser track/browser headers in BED files.


*Version 2.0.0*
  * Sped up the file parsing.  ~10-20% increase in speed.
  * Created reportBed() as a common method in the bedFile class.  Cleans up the code quite nicely.
  * Added the ability to compare BED files accounting for strandedness.
  * Added Paired-end intersect.
  * Fixed bug that prevented overlaps from being reported when the overlap fraction requested is 1.0.



*Version 1.2, 04/27/2009*
  * Added subtractBed.
    * Fixed bug that prevented "split" overlaps from being reported.
    * Prevented A from being reported if >=1 feature in B completely spans it.
  * Added linksBed.  
  * Added the ability to define separate windows for upstream and downstream to windowBed.


* Version 1.1, 04/23/2009*
  * Initial release.